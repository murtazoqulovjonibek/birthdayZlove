<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Birthday</title>

<style>
body{
    margin:0;
    background:white;
    overflow:hidden;
    display:flex;
    justify-content:center;
    align-items:center;
    min-height:100vh;
    flex-direction:column;
    font-family:Arial, Helvetica, sans-serif;
}

/* COUNTDOWN */
#countdown{
    position:absolute;
    font-size:100px;
    font-weight:bold;
    color:black;
    z-index:10;
}

/* MESSAGE BOX */
#messages{
    position:absolute;
    width:100%;
    max-height:100vh;      /* ekran balandligini cheklaydi */
    overflow-y:auto;      /* overflow bo‚Äòlsa scroll chiqadi */
    display:flex;
    flex-direction:column;
    align-items:center;
    gap:5px;
    z-index:5;
    padding-right:10px;
}

.messages::-webkit-scrollbar {
  width: 6px;
}

.messages::-webkit-scrollbar-track {
  background: transparent;
}

.messages::-webkit-scrollbar-thumb {
  background-color: #3f3f46; /* zinc-700 */
  border-radius: 999px;
}

.messages::-webkit-scrollbar-thumb:hover {
  background-color: #52525b; /* zinc-600 */
}

.message{
    font-size:clamp(18px,4vw,32px);
    font-weight:bold;
    opacity:0;
    animation: fadeIn 1s forwards;
}

/* HEART */
.heart-container{
    position:relative;
    transform:scale(0);
    opacity:0;
}

.heart{
    position:relative;
    width:clamp(120px, 35vw, 200px);
    height:clamp(120px, 35vw, 200px);
    background:red;
    transform:rotate(-45deg);
}

.heart:before,
.heart:after{
    content:"";
    position:absolute;
    width:100%;
    height:100%;
    background:red;
    border-radius:50%;
}

.heart:before{ top:-50%; }
.heart:after{ left:50%; }

/* .z{
    position:absolute;
    color:white;
    font-size:clamp(40px, 10vw, 80px);
    font-weight:bold;
    top:45%;
    left:50%;
    transform:translate(-50%,-50%);
} */

.z{
    position:absolute;
    color:white;
    font-size:clamp(18px, 4vw, 32px);
    font-weight:bold;
    text-align:center;
    width:100%;
    top:35%;
    left:53%;
    transform:translate(-50%,-50%);
}

@keyframes fadeIn{
    to{ opacity:1; }
}

canvas{
    position:absolute;
    top:0;
    left:0;
    width:100%;
    height:100%;
}
</style>
</head>

<body>

<div id="countdown">3</div>

<div id="messages"></div>

<div class="heart-container">
    <div class="heart"></div>
    <div class="z">Zilolam ‚ù§Ô∏è</div>
</div>

<canvas id="fireworks"></canvas>

<script>
const canvas = document.getElementById("fireworks");
const ctx = canvas.getContext("2d");

const heart = document.querySelector(".heart-container");
const countdownEl = document.getElementById("countdown");
const messagesBox = document.getElementById("messages");

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let particles = [];

/* FIREWORK */
function createFirework(){
    const x = Math.random() * canvas.width;
    const y = Math.random() * canvas.height / 3;

    for(let i=0;i<80;i++){
        particles.push({
            x:x,
            y:y,
            angle:Math.random()*2*Math.PI,
            speed:Math.random()*6+2,
            radius:2,
            color:`hsl(${Math.random()*360},100%,60%)`
        });
    }
}

function draw(){
    ctx.clearRect(0,0,canvas.width,canvas.height);

    particles.forEach((p,index)=>{
        p.x += Math.cos(p.angle)*p.speed;
        p.y += Math.sin(p.angle)*p.speed;
        p.speed *= 0.97;

        ctx.beginPath();
        ctx.arc(p.x,p.y,p.radius,0,2*Math.PI);
        ctx.fillStyle=p.color;
        ctx.fill();

        if(p.speed < 0.5){
            particles.splice(index,1);
        }
    });

    requestAnimationFrame(draw);
}

draw();

/* TILLAR */
const birthdayTexts = [
    "Happy Birthday my love ‚ù§Ô∏è",                     // English
    "Tug‚Äòilgan kuning bilan sevgilim ‚ù§Ô∏è",            // Uzbek
    "–° –î–Ω—ë–º –†–æ–∂–¥–µ–Ω–∏—è, –º–æ—è –ª—é–±–æ–≤—å ‚ù§Ô∏è",                // Russian
    "Feliz Cumplea√±os mi amor ‚ù§Ô∏è",                   // Spanish
    "Joyeux Anniversaire mon amour ‚ù§Ô∏è",              // French
    "Alles Gute zum Geburtstag meine Liebe ‚ù§Ô∏è",      // German
    "Buon Compleanno amore mio ‚ù§Ô∏è",                  // Italian
    "Doƒüum G√ºn√ºn Kutlu Olsun sevgilim ‚ù§Ô∏è",           // Turkish
    "Parab√©ns meu amor ‚ù§Ô∏è",                          // Portuguese
    "Gratulerer med dagen min kj√¶re ‚ù§Ô∏è",             // Norwegian
    "Hyv√§√§ syntym√§p√§iv√§√§ rakkaani ‚ù§Ô∏è",               // Finnish
    "Gefeliciteerd mijn liefde ‚ù§Ô∏è",                  // Dutch
    "Sto Lat moja mi≈Ço≈õci ‚ù§Ô∏è",                       // Polish
    "ŒßœÅœåŒΩŒπŒ± Œ†ŒøŒªŒªŒ¨ Œ±Œ≥Œ¨œÄŒ∑ ŒºŒøœÖ ‚ù§Ô∏è",                     // Greek
    "La mul»õi ani iubirea mea ‚ù§Ô∏è",                   // Romanian
    "Boldog sz√ºlet√©snapot szerelmem ‚ù§Ô∏è",             // Hungarian
    "ÿπŸäÿØ ŸÖŸäŸÑÿßÿØ ÿ≥ÿπŸäÿØ Ÿäÿß ÿ≠ÿ®Ÿä ‚ù§Ô∏è"                        // Arabic
];

/* COUNTDOWN */
let countdown = 3;

const countdownInterval = setInterval(()=>{
    countdown--;
    if(countdown > 0){
        countdownEl.textContent = countdown;
    } else {
        countdownEl.textContent = "üéâ";
        clearInterval(countdownInterval);

        setTimeout(()=>{
            countdownEl.style.display="none";
            startShow();
        },1000);
    }
},1000);

/* HAMMASINI BOSHLASH */
function startShow(){

    /* Salyut */
    setInterval(createFirework,200);

    /* Matnlar */
    let index = 0;

    const messageInterval = setInterval(()=>{
        if(index < birthdayTexts.length){

            const newText = document.createElement("div");
            newText.classList.add("message");
            newText.style.color = `hsl(${Math.random()*360},100%,45%)`;
            newText.textContent = birthdayTexts[index];

            messagesBox.appendChild(newText);
            index++;

        } else {
            clearInterval(messageInterval);

            /* 1Ô∏è‚É£ Yozuvlarni fade-out qilamiz */
            messagesBox.style.transition = "opacity 1.5s ease";
            messagesBox.style.opacity = "0";

            /* 2Ô∏è‚É£ Keyin butunlay yo‚Äòq qilamiz va yurak chiqadi */
            setTimeout(()=>{
                messagesBox.style.display = "none";

                heart.style.transition="all 2s ease";
                heart.style.opacity="1";
                heart.style.transform="scale(1)";
            },1500);
        }
    },1000);
}

window.addEventListener("resize",()=>{
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
});
</script>

</body>
</html>
